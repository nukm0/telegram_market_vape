<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vape Market | Telegram Shop</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            padding: 20px;
            min-height: 100vh;
            transition: background 0.3s, color 0.3s;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
            border-bottom: 1px solid var(--tg-theme-hint-color, #999);
        }
        
        h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .status-card {
            background: var(--tg-theme-secondary-bg-color, #f0f0f0);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .status-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--tg-theme-hint-color, #eee);
        }
        
        .status-item:last-child {
            border-bottom: none;
        }
        
        .status-label {
            font-weight: 500;
            color: var(--tg-theme-hint-color, #666);
        }
        
        .status-value {
            font-weight: 600;
        }
        
        .success {
            color: #31b545;
        }
        
        .warning {
            color: #ffa500;
        }
        
        .error {
            color: #ff3b30;
        }
        
        .btn {
            background: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
            transition: opacity 0.3s;
        }
        
        .btn:hover {
            opacity: 0.9;
        }
        
        .btn:active {
            opacity: 0.8;
        }
        
        .theme-test {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        
        .theme-box {
            flex: 1;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: 600;
        }
        
        .light-theme {
            background: #ffffff;
            color: #000000;
            border: 2px solid #000;
        }
        
        .dark-theme {
            background: #000000;
            color: #ffffff;
            border: 2px solid #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Vape Market</h1>
            <p>Telegram Mini App | –≠—Ç–∞–ø 1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SDK</p>
        </div>
        
        <div class="status-card">
            <h2>üìä –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Telegram</h2>
            <div class="status-item">
                <span class="status-label">SDK –∑–∞–≥—Ä—É–∂–µ–Ω:</span>
                <span id="sdk-status" class="status-value">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
            </div>
            <div class="status-item">
                <span class="status-label">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</span>
                <span id="platform" class="status-value">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
            <div class="status-item">
                <span class="status-label">–í–µ—Ä—Å–∏—è Telegram:</span>
                <span id="tg-version" class="status-value">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
            <div class="status-item">
                <span class="status-label">ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span>
                <span id="user-id" class="status-value">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
            <div class="status-item">
                <span class="status-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span>
                <span id="username" class="status-value">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
            <div class="status-item">
                <span class="status-label">–¢–µ–º–∞:</span>
                <span id="theme" class="status-value">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
        </div>
        
        <div class="status-card">
            <h2>üé® –¢–µ—Å—Ç —Ç–µ–º—ã Telegram</h2>
            <p>–¶–≤–µ—Ç–∞ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–µ–º–µ Telegram</p>
            <div class="theme-test">
                <div class="theme-box light-theme">–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞</div>
                <div class="theme-box dark-theme">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</div>
            </div>
        </div>
        
        <button class="btn" onclick="showAlert()">üì¢ –¢–µ—Å—Ç: –ü–æ–∫–∞–∑–∞—Ç—å –∞–ª–µ—Ä—Ç</button>
        <button class="btn" onclick="toggleTheme()">üîÑ –¢–µ—Å—Ç: –°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</button>
        <button class="btn" onclick="closeApp()">‚ùå –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
        
        <div class="status-card">
            <h2>‚úÖ –≠—Ç–∞–ø 1: –ü—Ä–æ–≤–µ—Ä–∫–∞</h2>
            <p>–ï—Å–ª–∏ –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–µ "–ó–∞–≥—Ä—É–∑–∫–∞..."), –∑–Ω–∞—á–∏—Ç SDK —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.</p>
            <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤—ã—à–µ –¥–ª—è —Ç–µ—Å—Ç–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram.</p>
        </div>
    </div>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        
        // –†–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        tg.expand();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
        tg.BackButton.show();
        tg.BackButton.onClick(() => {
            tg.close();
        });
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
        function updateStatus() {
            document.getElementById('sdk-status').textContent = 
                tg.initDataUnsafe ? '‚úÖ –ì–æ—Ç–æ–≤–æ' : '‚ùå –û—à–∏–±–∫–∞';
            document.getElementById('sdk-status').className = 
                'status-value ' + (tg.initDataUnsafe ? 'success' : 'error');
            
            document.getElementById('platform').textContent = tg.platform || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
            document.getElementById('tg-version').textContent = tg.version || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
            document.getElementById('user-id').textContent = 
                tg.initDataUnsafe?.user?.id || '–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω';
            document.getElementById('username').textContent = 
                tg.initDataUnsafe?.user?.username || '–ù–µ—Ç username';
            document.getElementById('theme').textContent = 
                tg.colorScheme === 'dark' ? 'üåô –¢–µ–º–Ω–∞—è' : '‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è';
        }
        
        // –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function showAlert() {
            tg.showAlert('–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç Telegram Mini App!');
        }
        
        function toggleTheme() {
            const newTheme = tg.colorScheme === 'dark' ? 'light' : 'dark';
            tg.setHeaderColor(newTheme === 'dark' ? '#000000' : '#ffffff');
            updateStatus();
        }
        
        function closeApp() {
            tg.close();
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', updateStatus);
        
        // –°–ª—É—à–∞–µ–º —Å–º–µ–Ω—É —Ç–µ–º—ã
        tg.onEvent('themeChanged', updateStatus);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
        setInterval(updateStatus, 2000);
    </script>
</body>
</html>
